!function(e,t){"function"==typeof define&&define.amd?define(["efa"],t(e)):"object"==typeof exports?module.exports=t(require("efa")):e.eclipseFdnAdopters=t(e,e.efa)}(this,function(e){"use strict";var t={},o=/<([^>]*?)>;(\s?[\w-]*?="(?:\\"|[^"])*";){0,}\s?rel="next"/,r={project_id:"",selector:".eclipsefdn-adopters",ul_classes:"",logo_white:!1,working_group:"",src_root:"https://api.eclipse.org/adopters",src_projects_prefix:"/projects"};function n(e){var t=JSON.parse(JSON.stringify(r));if(void 0!==e&&"object"==typeof e)for(var o in r)void 0===e[o]||"string"!=typeof e[o]&&"boolean"!=typeof e[o]||(t[o]=e[o]);return t}function i(e,t,r=[]){var n,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var n=JSON.parse(this.responseText);(Array.isArray(r)||r.length)&&(n=r.concat(n));var c=s.getResponseHeader("Link");if(null!==c){var a=c.match(o);null!==a?(e.next=a[1],i(e,t,n)):t(n)}else t(n)}else 4==this.readyState&&console.log("Error while retrieving adopters data, could not complete operation")},void 0!==e.next?n=e.next:(n=e.src_root+e.src_projects_prefix,void 0!==e.project_id&&""!==e.project_id.trim()&&(n+="/"+e.project_id),void 0!==e.working_group&&""!==e.working_group.trim()&&(n+="?working_group="+e.working_group)),s.open("GET",n,!0),s.send()}function s(e,t,o){const r=document.createElement("ul");if(void 0!==e)for(const o of e)if(t.project_id===o.project_id)for(const e of o.adopters){var n="";void 0!==e.homepage_url&&(n=e.homepage_url);var i="";void 0!==e.name&&(i=e.name);var s="";void 0!==e.logo&&(s=e.logo),!0===t.logo_white&&void 0!==e.logo_white&&(s=e.logo_white);let o=document.createElement("li"),c=document.createElement("a"),a=document.createElement("img");c.setAttribute("href",n),a.setAttribute("alt",i),a.setAttribute("src",t.src_root+"/assets/images/adopters/"+s),a.setAttribute("class","adopters-img"),c.appendChild(a),o.appendChild(c),r.appendChild(o)}for(var c=0;c<o.length;c++)""!==t.ul_classes&&r.setAttribute("class",t.ul_classes),o[c].append(r)}return t.getList=function(e){var t=n(e);console.log(t),i(t,function(e){s(e,t,document.querySelectorAll(t.selector))})},t.getWGList=function(e){var t=n(e);i(t,function(e){!function(e,t,o){for(const i of e){var r=JSON.parse(JSON.stringify(t));r.project_id=i.project_id;const c=document.createElement("h2");c.textContent=i.name;for(var n=0;n<o.length;n++)o[n].append(c);const a=document.createElement("a");a.setAttribute("class","btn btn-xs btn-secondary margin-left-10 uppercase"),a.setAttribute("href","https://projects.eclipse.org/projects/"+i.project_id),a.textContent=i.project_id,c.appendChild(a),s(e,r,o)}}(e,t,document.querySelectorAll(t.selector))})},t});

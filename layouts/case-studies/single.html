<!-- 
  Copyright (c) 2018 Eclipse Foundation, Inc.

  This program and the accompanying materials are made available under the
  terms of the Eclipse Public License v. 2.0 which is available at
  http://www.eclipse.org/legal/epl-2.0.

  Contributors:
    Christopher Guindon <chris.guindon@eclipse-foundation.org>

  SPDX-License-Identifier: EPL-2.0
-->
{{ define "main" }}
<main class="main">
  <div class="well">
    <div class="container xpurple">
      <h2>
      <a href="/case-studies" style="color: white; ">Case Study</a>
      <h2>
      <h1>Â» {{ .Title }}</h1>
      <p class="lead">
        "{{ .Description | safeHTML }}"
      </p>
    </div>
  </div>
  <section class="row-fluid" style="padding-bottom: 0px;">
    <div class="container">
      <div class="row">
        {{ if .Params.sub_description }}
        <div class="jumbotron col-md-12" style="margin-top: 40px; margin-bottom: 0px; padding-top: 30px; padding-bottom: 10px;">
          <div class="row">
            <div class="col-md-8">
              <p>{{ .Params.sub_description | safeHTML }}</p>
            </div>
            <div class="col-md-4 text-center">
              <a href="{{ .Params.demo_link }}" target="_blank">
              {{/* look for a .webp video as the "demo" thumbnail, otherwise fallback to .png */}}
              {{ $directory := "static/assets/images/testbeds/" }}
              {{ $filename := .File.TranslationBaseName | printf "%s-demo.webp" }}
              {{ if (where (readDir $directory) "Name" $filename) }}
              <img src="/assets/images/testbeds/{{.File.TranslationBaseName}}-demo.webp" class="img-responsive">
              {{ else }}
              <img src="/assets/images/testbeds/{{.File.TranslationBaseName}}-demo.png" class="img-responsive">
              {{ end }}
              </a>
              <p><a class="btn btn-primary btn-lg" href="{{ .Params.demo_link }}" target="_blank" role="button" style="margin-top: .5em;">Demo</a>
                &nbsp;
                <a class="btn btn-primary btn-lg" href="{{ .Params.source_code_link }}" target="_blank" role="button" style="margin-top: .5em;">Source Code</a>
              </p>
            </div>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  <section class="second row-fluid" style="padding-bottom: 70px;">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          {{ if .Content }}
          <p>{{ .Content | safeHTML }}</p>
          {{ end }}
        </div>
      </div>
    </div>
  </section>
  <section class="third row-fluid">
    <div class="container">
    <div class="row">
      <div class="col-md-12" style="margin-top: -3em;">
        {{ if .Params.learn_more }}
        <h1 class="purple">Learn More</h1>
        <ul>
          {{ range .Params.learn_more }}
          <li><a href="{{ .link }}" target="_blank">{{ .name }}</a></li>
          {{ end }}
        </ul>
        {{ end }}
      </div>
    </div>
  </section>
</main>
{{ end }}
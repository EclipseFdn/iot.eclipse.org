/*!
* community.js by Christopher Guindon - @chrisguindon
* Copyright 2013 Eclipse Foundation
* http://www.eclipse.org/org/documents/epl-v10.php
*/(function(e,t,n){e(function(){e(t).resize(function(){i()});e(n).on("click",".itembox, .news-list li",function(){var t=e(this).find(".readmore").attr("href");e(location).attr("href",t);return!1});e.ajax({type:"GET",url:"//projects.eclipse.org/jsonp/technology/Machine-to-Machine",dataType:"jsonp",cache:!1,success:function(t){var n="",o=0;e("#update-project").removeClass("loading");e.each(t,function(e,t){if(o%4===0){o!==0&&(n+="</div>");n+='<div class="row-fluid">'}var i=s(t.name),u=s(t.id),a=s(t.description,{cut:!0,ellipsis:"&hellip;"}),f=t.website,l=t.logo,c="",h=!1;n+='<div class="span3 itembox"'+c+">";r(l)&&h===!0?n+='<img class ="logo" alt="'+i+' logo" src="'+l+'">':n+="<h3>"+i+"</h3>";n+="<p>"+a+"</p>";r(f)||(f="http://projects.eclipse.org/projects/"+u);n+='<a href="'+f+'" class="readmore">Read more <i class="icon-chevron-right"></i></a>';n+="</div>";o++});e("#update-project").append("</div>"+n);i()}})});var r=function(t){return/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(t)},i=function(){e(".itembox").css({height:"auto"});e(".row-fluid").each(function(){var t=0;e(".itembox",this).each(function(){e(this).height()>t&&(t=e(this).outerHeight())});e(".itembox",this).height(t)})},s=function(t,n){var r=e.extend({start:0,end:200,html:!1,ellipsis:"",cut:!1},n),i="";r.html||(i=t.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/g,""));if(r.cut){var s=i.lastIndexOf(" ",r.end);s!==-1&&(i=i.substring(r.start,s)+r.ellipsis)}return i}})(window.jQuery,window,document);